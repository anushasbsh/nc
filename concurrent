import java.io.*; import java.net.*;
public class ConServer {
public static void main(String[] args) throws IOException {
ServerSocket ss = new ServerSocket(8500); System.out.println("Server ready for chatting");
while (true) {
Socket s = ss.accept();
System.out.println("New client connected");
// Start a new thread for each client new ClientHandler(s).start();
}
}
static class ClientHandler extends Thread {
private final Socket socket;
public ClientHandler(Socket socket) {
this.socket = socket;
}
public void run() {
try {
BufferedReader br = new BufferedReader(new
InputStreamReader(socket.getInputStream()));
String cli_name = br.readLine();
System.out.println("\nCLIENT NAME: " + cli_name); int no = Integer.parseInt(br.readLine()); int sq = no * no;
PrintWriter pw = new PrintWriter(socket.getOutputStream(), true); pw.println(sq);
System.out.println("OUTPUT - The square of " + no + " is " + sq); socket.close();
} catch (IOException e) {
e.printStackTrace();
}
}
}
}
CLIENT1:
import java.io.*; import java.net.*;
public class ConClient1 {
public static void main(String[] args) throws IOException {
Socket s = new Socket("localhost", 8500);
BufferedReader br = new BufferedReader(new InputStreamReader(System.in)); int num = Integer.parseInt(br.readLine());
PrintWriter pw = new PrintWriter(s.getOutputStream(), true); pw.println("Client 1"); pw.println(num);
BufferedReader br1 = new BufferedReader(new InputStreamReader(s.getInputStream())); int squ = Integer.parseInt(br1.readLine());
System.out.println("Square of " + num + " is " + squ);
s.close();
}
}
CLIENT2:
import java.io.*; import java.net.*;
public class ConClient2 {
public static void main(String[] args) throws IOException {
Socket s = new Socket("localhost", 8500);
BufferedReader br = new BufferedReader(new InputStreamReader(System.in)); System.out.println("\nCLIENT 2:\nEnter the number to find square: "); int num = Integer.parseInt(br.readLine());
PrintWriter pw = new PrintWriter(s.getOutputStream(), true); pw.println("Client 2"); pw.println(num);
BufferedReader br1 = new BufferedReader(new InputStreamReader(s.getInputStream())); int squ = Integer.parseInt(br1.readLine());
System.out.println("Square of " + num + " is " + squ);
s.close();
} }
